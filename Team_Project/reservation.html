<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Reservation</title>
    <link rel="stylesheet" href="css/styles.css">

    <script>
        function validateReservation() {
            let first_name = document.forms["hotel_reservation"]["first_name"].value;
            let last_name = document.forms["hotel_reservation"]["last_name"].value;
            let email_address = document.forms["hotel_reservation"]["email"].value;
            let adults = document.getElementById("adults").value;
            let children = document.getElementById("children").value;
            let number_of_nights = document.getElementById("number_of_nights").value;
            let check_in_date = document.getElementById("check_in_date").value;
            let radios = document.querySelectorAll('input[type="radio"]:checked');
            let selected_room = radios.length > 0 ? radios[0].value : null;
            // Get today's date
            let currentDate = new Date().toJSON().slice(0, 10);

            console.log(currentDate);
            console.log(adults);
            console.log(children);
            console.log(number_of_nights);
            console.log(selected_room);
            console.log(currentDate);
            console.log(check_in_date);

            if (first_name == "") {
                alert("Please enter your first name!");
                return false;
            } else if (last_name == "") {
                alert("Please enter your last name!");
                return false;
            } else if (email_address == "") {
                alert("Please enter your email address!");
                return false;
            } else if (adults == "" || adults == 0) {
                alert("Minimum of one adult per room is required!");
                return false;
            } else if (number_of_nights == 0) {
                alert("Minimum of one night is required!");
                return false;
            } else if (check_in_date == "") {
                alert("Please enter a check-in date!");
                return false;
            } else if (check_in_date < currentDate) {
                alert("Please enter current or upcoming date!");
                return false;
            } else if (selected_room == null) {
                alert("Please select a room type!");
                return false;
            } else {
                var room_type = "";
                if (selected_room == 0) {
                    room_type = "Room With a Pool";
                } else if (selected_room == 1) {
                    room_type = "Suite";
                } else if (selected_room == 2) {
                    room_type = "Two Beds Room"
                }
                var text = "- Reservation Sent -\n\nName: " + first_name + " " + last_name + "\nEmail: " + email_address + "\nRoom: " + room_type + "\nNumber of Nights: " + number_of_nights + "\nCheck-In Date: " + check_in_date;
                alert(text)
            }


        }

        function displayTotalPrice() {
            var price = 0.00;
            let radios = document.querySelectorAll('input[type="radio"]:checked');
            let selected_room = radios.length > 0 ? radios[0].value : null;
            let number_of_nights = document.getElementById("number_of_nights").value;
            if (selected_room == 0) {
                price = 466.99;
            } else if (selected_room == 1) {
                price = 422.88;
            } else if (selected_room == 2) {
                price = 388.98;
            }
            var totalPrice = price * number_of_nights;
            var totalPriceString = "$ " + totalPrice;
            document.getElementById('price').innerText = totalPriceString;
        }
    </script>
</head>

<body>
    <div class="page-container">
        <div class="reservation-content">
            <header>
                <img src="images/0-logo.png" />
                <div class="header-middle">
                    <a href="home.html">Home</a>
                    <a href="attractions.html">Attractions</a>
                    <a href="dining.html">Dining</a>
                    <a id="active" href="reservation.html">Reservation</a>
                    <a href="special_events.html">Special Events</a>
                </div>
                <div class="header-other">
                    <a id="signin" href="sign_in.html">Sign In</a>
                    <a id="signup" href="sign_up.html">Sign Up</a>
                    <a id="language">EN/FR</a>
                </div>
            </header>

            <div class="reservation">
                <h2>Plan Your Stay at Cutie Bunny Bay</h2>
                <p>Cutie Bunny, Mont Tremblant's opulent hotel rooms and suites combine classic style
                    with contemporary convenience to provide an experience that goes above and beyond
                    the ordinary. Take in the refinement of our hotel as you peek out at the beautiful view
                    surrounding you during all seasons and all kinds of weather.</p>
            </div>

            <div class="reservation-grid">
                <label>
                    <div class="hotel">
                        <div class="room-name"> <input type="radio" id="room-pool" name="hotel" value="0"
                                onchange="displayTotalPrice()">
                            <h4>Room with a pool</h4>
                        </div>
                        <div class="room-price">
                            <rect class="background-of-price"></rect>
                            <img src="images/4-pool.jpg">
                            <p>$466.99/Night <span class="dining-include">*Dining included</span></p>

                        </div>
                    </div>
                </label>
                <label>
                    <div class="hotel">
                        <div class="room-name"> <input type="radio" id="room-suite" name="hotel" value="1"
                                onchange="displayTotalPrice()">
                            <h4>Suite</h4>
                        </div>
                        <div class="room-price">
                            <rect class="background-of-price"></rect>
                            <img src="images/4-suit.jpg">
                            <p>$422.88/Night <span class="dining-include">*Dining included</span></p>

                        </div>
                    </div>
                </label>
                <label>
                    <div class="hotel">
                        <div class="room-name"> <input type="radio" id="room-double" name="hotel" value="2"
                                onchange="displayTotalPrice()">
                            <h4>Two beds room</h4>
                        </div>
                        <div class="room-price">
                            <rect class="background-of-price"></rect>
                            <img src="images/4-two beds.jpg">
                            <p>$388.98/Night <span class="dining-include">*Dining included</span></p>

                        </div>
                    </div>
                </label>
            </div>

            <div class="reservation-form">
                <form id="hotel_reservation" method="post" action="#">
                    <!--Guest Personal Information-->
                    <fieldset>
                        <legend>Guest Personal Information</legend>
                        <table>
                            <!--row 1-->
                            <tr>
                                <td>
                                    <lable for="first_name">First Name:</lable>
                                </td>
                                <td>
                                    <input type="text" id="first_name" name="first_name" size="20" maxlength="20">
                                </td>
                            </tr>
                            <!--row 2-->
                            <tr>
                                <td>
                                    <lable for="Last_name">Last Name:</lable>
                                </td>
                                <td>
                                    <input type="text" id="last_name" name="last_name" size="20" maxlength="20">
                                </td>
                            </tr>
                            <!--row 3-->
                            <tr>
                                <td>
                                    <label for="email">Email Address:</label>
                                </td>
                                <td>
                                    <input type="email" id="email" name="email" size="40" maxlength="40">
                                </td>
                            </tr>
                        </table>
                    </fieldset>
                    <!--Hotel Reservation-->
                    <fieldset>
                        <legend>Hotel Reservation</legend>
                        <table>
                            <!--row 1-->
                            <tr>
                                <td>
                                    <label for="adults">Adults:</label>
                                </td>
                                <td>
                                    <select id="adults">
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                    </select>
                                </td>
                            </tr>
                            <!--row 2-->
                            <tr>
                                <td>
                                    <label for="children">Children:</label>
                                </td>
                                <td>
                                    <select id="children">
                                        <option value="0">0</option>
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                    </select>
                                </td>
                            </tr>
                            <!--row 3-->
                            <tr>
                                <td>
                                    <label for="number_of_nights">Number of Nights:</label>
                                </td>
                                <td>
                                    <input type="number" id="number_of_nights" value="1" onchange="displayTotalPrice()">
                                </td>
                            </tr>
                            <!--row 4-->
                            <tr>
                                <td>
                                    <label for="check_in_date">Check-In Date:</label>
                                </td>
                                <td>
                                    <input type="date" id="check_in_date">
                                </td>
                            </tr>
                        </table>
                    </fieldset>
                </form>
            </div>

            <div class="reservation-buttons">
                <div class="price-button">
                    <p>Total price:</p>
                    <p id="price">$0.00</p>
                </div>
                <div class="submit-button" onclick="validateReservation()">
                    <p>Book now</p>
                </div>
            </div>
        </div>
        <footer>
            <p>CustomerService@ccab.com</p>
            <p>514 977 8686</p>
            <p>2800, Chemin du Village, Tremblant, Canada J8E 1A4</p>
            <p>Copyright © 2002 CuiteBunnyBay.com™. All rights reserved.</p>
        </footer>
    </div>
</body>

</html>